<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ appTitle }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        /* éŸ“ç³»ç°¡ç´„é¢¨å­—é«” */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        body {
            font-family: 'Noto Sans TC', sans-serif;
            /* é è¨­èƒŒæ™¯ï¼šæŸ”å’Œæ¼¸è®Šè—è‰² */
            background: linear-gradient(180deg, #c3e0ff 0%, #ffffff 100%);
            background-attachment: fixed; 
        }
        #app {
            max-width: 420px;
            margin: 0 auto;
            min-height: 100vh;
            background-color: white; 
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.08); 
            position: relative;
        }
        
        /* å‹•æ…‹ä¸»é¡Œé¡è‰²è®Šæ•¸ (CSS Variable) */
        :root {
            /* ä¸»è‰²èª¿ï¼Œå°‡ç”± Vue æ§åˆ¶ä¸¦éš¨æ™‚æ›´æ–° */
            --primary-color: #3b82f6; 
        }

        /* å°èˆªæŒ‰éˆ•æ´»å‹•ç‹€æ…‹ */
        .nav-btn.active {
            color: var(--primary-color); 
            font-weight: 600;
        }

        /* é ‚éƒ¨æ—¥æœŸ Tab çš„æ¨£å¼ */
        .day-tab {
            background-color: white;
            color: #4b5563; 
        }
        .day-tab.active {
            background-color: var(--primary-color);
            color: #ffffff; /* ç¢ºä¿ä¸»å‹•ç‹€æ…‹çš„æ–‡å­—ç‚ºç™½è‰² */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        /* è¡Œç¨‹å¡ç‰‡æ·±è‰²èƒŒæ™¯ */
        .main-card-bg {
             background-color: var(--primary-color);
             box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        /* è¨˜å¸³å¡ç‰‡é ‚éƒ¨é¡è‰² */
        .accounting-top-card {
            background-color: var(--primary-color);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* éš±è—åŸç”Ÿé¡è‰²é¸æ“‡å™¨çš„é‚Šæ¡† */
        input[type="color"] {
            -webkit-appearance: none;
            border: none;
            width: 32px;
            height: 32px;
            padding: 0;
            cursor: pointer;
        }
        input[type="color"]::-webkit-color-swatch-wrapper {
            padding: 0;
        }
        input[type="color"]::-webkit-color-swatch {
            border: none;
            border-radius: 8px;
        }
    </style>
</head>
<body>

<div id="app" :style="{ 'background': 'linear-gradient(180deg, ' + appBgColor + ' 0%, #ffffff 100%)', 'background-attachment': 'fixed' }">
    <header class="p-4 pt-10 sticky top-0 bg-white bg-opacity-80 backdrop-blur-sm z-20">
        <div class="flex justify-between items-start">
            <h1 class="text-2xl font-semibold text-gray-900">{{ appTitle }} <span class="text-blue-400 text-sm align-top">â–²</span></h1>
            
            <div class="text-right text-sm text-gray-500">
                <p>ç›®å‰åŒ¯ç‡</p>
                <p class="font-medium">1 JPY â‰ˆ 0.052 HKD</p>
            </div>
        </div>

        <div class="flex overflow-x-auto py-3 space-x-3 mt-4">
            <button v-for="day in days" :key="day.date"
                    @click="currentDay = day.date"
                    class="day-tab flex-shrink-0 px-4 py-2 rounded-xl text-sm transition duration-200"
                    :class="{ 'active': currentDay === day.date }"
            >
                {{ day.label }}
                <span class="font-semibold ml-1">{{ day.date }}</span>
            </button>
        </div>
    </header>

    <main class="p-4 pb-24 min-h-[calc(100vh-160px)]">
        
        <div v-if="currentTab === 'Schedule'">
            <h2 class="text-lg font-semibold text-gray-700 mb-3">{{ currentDayLabel }} è¡Œç¨‹å®‰æ’</h2>
            <button class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 mb-4" @click="openModal('Schedule')">
                <span class="text-sm font-medium text-blue-500 mr-1">+</span>æ–°å¢
            </button>
            
            <div class="bg-blue-50 p-4 mb-5 rounded-2xl flex justify-between items-center shadow-md">
                <div class="flex items-center">
                    <span class="text-3xl mr-3 text-blue-500">â˜€ï¸</span>
                    <div>
                        <p class="text-2xl font-medium text-gray-800">18Â° C</p>
                        <p class="text-sm text-gray-500">é«”æ„Ÿ 2Â°C Â· æ™´æ™‚å¤šé›²</p>
                    </div>
                </div>
                <span class="text-gray-500">ğŸ“ æ±äº¬</span>
            </div>

            <div class="main-card-bg p-5 mb-5 rounded-2xl text-white shadow-xl">
                <div class="flex justify-between items-start mb-4">
                    <p class="text-xl font-bold">FLIGHT 09:05</p>
                    <button class="text-gray-300 hover:text-white"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg></button>
                </div>
                <div class="flex items-center justify-between border-b border-white border-opacity-30 pb-3 mb-3">
                    <div class="text-center">
                        <p class="text-sm font-light">FROM</p>
                        <p class="text-3xl font-extrabold">HKG</p>
                    </div>
                    <div class="flex-1 text-center">
                        <svg class="w-6 h-6 mx-auto mb-1 transform rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                        <p class="text-xs font-light">èˆªç­å‰å¾€æ±äº¬</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm font-light">TO</p>
                        <p class="text-3xl font-extrabold">TYO</p>
                    </div>
                </div>
                <div class="flex justify-between items-center">
                    <p class="text-sm font-medium">HB320 èˆªç­å‰å¾€æ±äº¬</p>
                    <button class="bg-white text-gray-800 text-xs px-2 py-1 rounded-lg font-medium">å·²ç¢ºèª</button>
                </div>
            </div>
            
            <div class="bg-white p-5 mb-5 rounded-2xl shadow-md border border-gray-100">
                <div class="flex justify-between items-start">
                    <div class="flex items-center">
                        <span class="w-10 h-10 flex items-center justify-center bg-blue-100 rounded-lg mr-3 text-blue-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.003 12.003 0 003 12c0 2.83 1.05 5.46 2.806 7.485L12 22.09l6.194-2.605A12.003 12.003 0 0021 12c0-2.83-1.05-5.46-2.806-7.485z"></path></svg>
                        </span>
                        <div>
                            <p class="text-sm font-medium text-gray-700">15:00</p>
                            <h3 class="text-lg font-semibold text-gray-800">NEX æˆç”°ç‰¹å¿«</h3>
                        </div>
                    </div>
                    <button class="text-gray-400 hover:text-gray-600"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg></button>
                </div>
                <p class="text-blue-500 text-sm mt-2">å°èˆª âˆ™ æˆç”°ç©ºæ¸¯ç«™</p>
                <p class="text-gray-500 text-sm mt-1">å‰å¾€æ–°å®¿</p>
            </div>
        </div>
        
        <div v-else-if="currentTab === 'PreTrip'">
            <h2 class="text-lg font-semibold text-gray-700 mb-3">è¡Œå‰æ¸…å–®</h2>
            <button class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 mb-4" @click="openModal('PreTrip')">
                <span class="text-sm font-medium text-blue-500 mr-1">+</span>æ–°å¢
            </button>

            <div v-for="item in preTripList" :key="item.id" class="bg-white p-4 mb-4 rounded-2xl flex justify-between items-center shadow-md border border-gray-100">
                <div class="flex items-center">
                    <input type="checkbox" :checked="item.completed" @change="item.completed = !item.completed" 
                           class="form-checkbox h-5 w-5 text-blue-500 rounded-lg border-gray-300 mr-4 focus:ring-blue-500"
                           :style="{ 'color': primaryColor, 'border-color': primaryColor }"
                    >
                    <span class="text-lg text-gray-700" :class="{ 'line-through text-gray-400': item.completed }">
                        {{ item.name }}
                    </span>
                </div>
                <button class="text-gray-400 hover:text-red-500" @click="deleteItem('PreTrip', item.id)">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
            </div>
        </div>

        <div v-else-if="currentTab === 'Accounting'">
            <h2 class="text-lg font-semibold text-gray-700 mb-4">æ—…è²»ç®¡ç†</h2>
            
            <div class="accounting-top-card p-6 mb-6 rounded-2xl shadow-xl">
                <p class="text-sm font-light text-gray-200">ç¸½æ”¯å‡º (HKD)</p>
                <h3 class="text-4xl font-extrabold my-2">${{ totalExpense }}</h3>
                <p class="text-sm font-light text-gray-300">æ—¥å¸¸ç¸½è¨ˆ Â¥0</p>
                
                <div class="grid grid-cols-2 gap-4 mt-5 pt-3 border-t border-white border-opacity-20">
                    <div>
                        <p class="text-md font-medium">ğŸ’³ ä¿¡ç”¨å¡</p>
                        <p class="text-2xl font-bold">${{ creditCardExpense }}</p>
                    </div>
                    <div>
                        <p class="text-md font-medium">ğŸ’µ ç¾é‡‘</p>
                        <p class="text-2xl font-bold">${{ cashExpense }}</p>
                    </div>
                </div>
            </div>

            <h3 class="text-md font-semibold text-gray-700 mb-3">æ”¯å‡ºæ˜ç´°</h3>
            <div class="flex justify-between items-center mb-4">
                <div class="p-1 bg-gray-100 rounded-xl flex max-w-xs">
                    <button class="flex-1 py-2 px-4 rounded-lg text-sm text-gray-600 transition duration-150" 
                        :class="{'bg-white shadow-md font-medium': expenseFilter === 'all'}" @click="expenseFilter = 'all'">
                        å…¨éƒ¨
                    </button>
                    <button class="flex-1 py-2 px-4 rounded-lg text-sm text-gray-600 transition duration-150" 
                        :class="{'bg-white shadow-md font-medium': expenseFilter === 'cash'}" @click="expenseFilter = 'cash'">
                        ç¾é‡‘
                    </button>
                    <button class="flex-1 py-2 px-4 rounded-lg text-sm text-gray-600 transition duration-150" 
                        :class="{'bg-white shadow-md font-medium': expenseFilter === 'credit'}" @click="expenseFilter = 'credit'">
                        ä¿¡ç”¨å¡
                    </button>
                </div>
                <button class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700" @click="openModal('Accounting')">
                    <span class="text-sm font-medium text-blue-500 mr-1">+</span>è¨˜ä¸€ç­†
                </button>
            </div>
            
            <p v-if="filteredExpenses.length === 0" class="text-center text-gray-400 mt-10">æ²’æœ‰ç›¸é—œçš„æ”¯å‡ºç´€éŒ„</p>

            <ul class="space-y-3">
                <li v-for="expense in filteredExpenses" :key="expense.id" class="bg-white p-4 rounded-xl flex justify-between items-center shadow-sm border border-gray-100">
                    <div>
                        <p class="font-medium text-gray-800">{{ expense.name }}</p>
                        <p class="text-xs text-gray-400 mt-1">{{ expense.type === 'cash' ? 'ğŸ’µ ç¾é‡‘' : 'ğŸ’³ ä¿¡ç”¨å¡' }}</p>
                    </div>
                    <span class="text-lg font-bold" :class="expense.amount > 0 ? 'text-green-600' : 'text-red-600'">
                        {{ expense.currency }} {{ expense.amount.toFixed(2) }}
                    </span>
                </li>
            </ul>

        </div>
        
        <div v-else-if="currentTab === 'Shopping'">
            <h2 class="text-lg font-semibold text-gray-700 mb-3">è³¼ç‰©æ¸…å–®</h2>
            <button class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 mb-4" @click="openModal('Shopping')">
                <span class="text-sm font-medium text-blue-500 mr-1">+</span>æ–°å¢
            </button>

            <div v-for="item in shoppingList" :key="item.id" class="bg-white p-4 mb-4 rounded-2xl flex justify-between items-center shadow-md border border-gray-100 max-w-xs">
                <div class="flex items-center">
                    <img :src="item.imgUrl" alt="å•†å“åœ–ç‰‡" class="w-16 h-16 object-cover rounded-xl mr-4 border border-gray-100">
                    <div>
                        <p class="text-lg font-medium text-gray-800">{{ item.name }}</p>
                        <p class="text-md text-gray-600 mt-1">Â¥ {{ item.price }}</p>
                    </div>
                </div>
                <div class="flex flex-col items-center space-y-2">
                    <button class="text-gray-400 hover:text-red-500" @click="deleteItem('Shopping', item.id)">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                    </button>
                    <button v-if="!item.purchased" @click="item.purchased = true" class="text-gray-300 hover:text-green-500">
                         <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                    </button>
                     <span v-else class="text-green-500 font-medium text-sm">å·²è³¼</span>
                </div>
            </div>
        </div>

        <div v-else-if="currentTab === 'Settings'">
            <h2 class="text-2xl font-semibold mb-6 text-gray-700">âš™ï¸ è¨­å®šèˆ‡ä¸»é¡Œ</h2>

            <div class="bg-white p-4 mb-4 rounded-xl shadow-md border border-gray-100">
                <h3 class="font-medium mb-3 text-gray-700">å°ˆæ¡ˆåç¨±/æš±ç¨±</h3>
                <input type="text" v-model="appTitle" placeholder="ä¾‹å¦‚ï¼šeMenu Tokyo" class="w-full p-2 border border-gray-200 rounded-lg focus:ring-blue-300 focus:border-blue-300 transition duration-150">
            </div>

            <div class="bg-white p-4 rounded-xl shadow-md border border-gray-100">
                <h3 class="font-medium mb-3 text-gray-700">è‡ªè¨‚ App ä¸»é¡Œé¡è‰²</h3>
                <div class="flex items-center space-x-3">
                    <input type="color" v-model="primaryColorInput" @input="updateTheme(primaryColorInput)" class="rounded-lg">
                    <span class="font-mono text-sm text-gray-600">{{ primaryColorInput }}</span>
                </div>
                <p class="text-xs text-gray-500 mt-2">é»æ“Šä¸Šæ–¹è‰²å¡Šï¼Œå³å¯å¾èª¿è‰²ç›¤ä¸­é¸æ“‡æ‚¨å–œæ­¡çš„é¡è‰²ï¼ŒApp ä¸­æ·±è‰²çš„åœ°æ–¹æœƒéš¨ä¹‹æ”¹è®Šã€‚</p>
            </div>
        </div>
    </main>
    
    <nav class="fixed bottom-0 left-0 right-0 max-w-sm mx-auto z-30">
        <div class="flex justify-around items-center bg-white p-3 mx-4 mb-4 rounded-full shadow-2xl">
            <button @click="currentTab = 'Schedule'" class="nav-btn flex flex-col items-center p-2" :class="{ 'active': currentTab === 'Schedule' }">
                 <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-4 4h.01M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                <span class="text-xs mt-1">è¡Œç¨‹</span>
            </button>
            <button @click="currentTab = 'Map'" class="nav-btn flex flex-col items-center p-2" :class="{ 'active': currentTab === 'Map' }">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                <span class="text-xs mt-1">åœ°åœ–</span>
            </button>
            <button @click="currentTab = 'Accounting'" class="nav-btn flex flex-col items-center p-2" :class="{ 'active': currentTab === 'Accounting' }">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V6m0 6v-1m0 1v3m0 0h.01M12 18V9.143a4.99 4.99 0 00-3-1.071M12 18L7.143 18m4.857-0L16.857 18"></path></svg>
                <span class="text-xs mt-1">è¨˜å¸³</span>
            </button>
            <button @click="currentTab = 'Shopping'" class="nav-btn flex flex-col items-center p-2" :class="{ 'active': currentTab === 'Shopping' }">
                 <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>
                <span class="text-xs mt-1">è³¼ç‰©</span>
            </button>
             <button @click="currentTab = 'Settings'" class="nav-btn flex flex-col items-center p-2" :class="{ 'active': currentTab === 'Settings' }">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <span class="text-xs mt-1">è³‡è¨Š</span>
            </button>
        </div>
    </nav>
</div>

<script>
    const { createApp, ref, computed } = Vue

    createApp({
        setup() {
            // é é¢ç‹€æ…‹
            const appTitle = ref('æˆ‘çš„è‡ªè¨‚App') // å¯è‡ªå®šç¾©çš„æš±ç¨±
            const currentTab = ref('Schedule') 
            
            // è¡Œç¨‹åˆ†æ—¥ç‹€æ…‹
            const days = ref([
                { label: 'è¡Œå‰', date: 'PreTrip' },
                { label: 'Day 1', date: '08' },
                { label: 'Day 2', date: '09' },
                { label: 'Day 3', date: '10' },
                { label: 'Day 4', date: '11' },
            ])
            const currentDay = ref('08') 

            // ä¸»é¡Œé¡è‰²ç‹€æ…‹ (é‡é»ï¼šä½¿ç”¨ input ç¶å®š)
            const primaryColorInput = ref('#3b82f6') // é¡è‰²é¸æ“‡å™¨çš„ç¶å®šå€¼
            const primaryColor = ref('#3b82f6') // App ä¸»è‰²èª¿ (æ·±è‰²éƒ¨åˆ†)
            const appBgColor = ref('#c3e0ff') // App èƒŒæ™¯é¡è‰² (æ·ºè‰²æ¼¸è®Šé–‹å§‹è‰²)
            
            // è¨ˆç®—å±¬æ€§
            const currentDayLabel = computed(() => {
                return days.value.find(d => d.date === currentDay.value)?.label || 'ç•¶å‰';
            })

            // è¨˜å¸³ç¯©é¸èˆ‡è¨ˆç®— (æ²¿ç”¨ä¸Šæ¬¡çš„é‚è¼¯)
            const expenses = ref([
                { id: 101, name: 'æ™šé¤ï¼šæ‹‰éºµ', amount: -120.00, currency: 'HKD', type: 'cash', date: '08' },
                { id: 102, name: 'åœ°éµç¥¨', amount: -25.00, currency: 'HKD', type: 'credit', date: '08' },
            ])
            const expenseFilter = ref('all') 
            const filteredExpenses = computed(() => {
                 return expenses.value.filter(e => {
                    const dateMatch = e.date === currentDay.value || currentDay.value === 'PreTrip';
                    if (expenseFilter.value === 'all') return dateMatch;
                    return dateMatch && e.type === expenseFilter.value;
                });
            })
            const totalExpense = computed(() => expenses.value.reduce((sum, e) => sum + e.amount, 0).toFixed(2).replace('-', ''));
            const cashExpense = computed(() => expenses.value.filter(e => e.type === 'cash').reduce((sum, e) => sum + e.amount, 0).toFixed(2).replace('-', ''));
            const creditCardExpense = computed(() => expenses.value.filter(e => e.type === 'credit').reduce((sum, e) => sum + e.amount, 0).toFixed(2).replace('-', ''));


            // æ¸…å–®æ•¸æ“š
            const preTripList = ref([
                { id: 1, name: 'è³¼è²·æ—…éŠä¿éšª', completed: false },
                { id: 2, name: 'è²·ç¶²å¡', completed: true },
            ])
            const shoppingList = ref([
                { id: 201, name: 'CEZANNE 101è™Ÿå”‡è†', price: 3000, imgUrl: 'https://via.placeholder.com/150/f9fafb/555555?text=Lipstick', purchased: false },
            ])
            
            // Methods
            // æ›´æ–°ä¸»é¡Œè‰²çš„å‡½æ•¸ï¼ŒåŒæ™‚æ›´æ–° CSS è®Šæ•¸
            const updateTheme = (hex) => {
                primaryColor.value = hex;
                document.documentElement.style.setProperty('--primary-color', hex);
                // ç°¡æ˜“åœ°æ ¹æ“šé¡è‰²æ·±æ·ºèª¿æ•´èƒŒæ™¯é¡è‰² (è®“æ·ºè‰²éƒ¨åˆ†ä»ä¿æŒæŸ”å’Œ)
                // é€™è£¡æ˜¯ä¸€å€‹ç°¡å–®çš„é‚è¼¯ï¼šå¦‚æœä¸»è‰²åæš–ï¼ŒèƒŒæ™¯å¯èƒ½ç”¨ç±³ç™½ã€‚å¦‚æœä¸»è‰²åå†·ï¼ŒèƒŒæ™¯ç”¨æ·ºç°è—ã€‚
                const r = parseInt(hex.slice(1, 3), 16);
                const g = parseInt(hex.slice(3, 5), 16);
                const b = parseInt(hex.slice(5, 7), 16);
                // åˆ¤æ–·é¡è‰²äº®åº¦ (YIQå…¬å¼)
                const brightness = (r * 299 + g * 587 + b * 114) / 1000;

                if (brightness > 180) {
                     // é¡è‰²åäº®ï¼Œä¿æŒèƒŒæ™¯ç‚ºè—è‰²æ¼¸è®Š
                     appBgColor.value = '#c3e0ff';
                } else if (g > r && g > b) {
                     // åç¶ è‰²ç³»
                     appBgColor.value = '#d1fae5';
                } else if (r > b) {
                    // åæš–è‰²ç³» (ç´…ã€é»ƒ)
                    appBgColor.value = '#fbe2e2'; // æ·ºç²‰/ç±³è‰²
                } else {
                    // åè—è‰²æˆ–æ·±è‰²
                    appBgColor.value = '#c3e0ff';
                }
            }

            const openModal = (tab) => {
                alert(`æ¨¡æ“¬ï¼šé–‹å•Ÿ ${tab} çš„æ–°å¢è¡¨å–®`);
            }
            
            const deleteItem = (listName, id) => {
                if (listName === 'PreTrip') {
                    preTripList.value = preTripList.value.filter(item => item.id !== id);
                } else if (listName === 'Shopping') {
                    shoppingList.value = shoppingList.value.filter(item => item.id !== id);
                }
            }

            return {
                appTitle,
                currentTab,
                days,
                currentDay,
                currentDayLabel,
                primaryColor,
                primaryColorInput,
                appBgColor,
                preTripList,
                expenses,
                shoppingList,
                expenseFilter,
                filteredExpenses,
                totalExpense,
                cashExpense,
                creditCardExpense,
                updateTheme,
                openModal,
                deleteItem,
            }
        },
        mounted() {
            // åˆå§‹åŒ–æ™‚è¨­å®šä¸»é¡Œè‰²
            document.documentElement.style.setProperty('--primary-color', this.primaryColorInput);
        }
    }).mount('#app')
</script>

</body>
</html>
